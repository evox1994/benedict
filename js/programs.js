!function(t,o){function e(){a=t(".programs-gu"),a.length&&(c=SVG(a.find(".svg")[0]),i(),n(),l(),ScrollWatcher.add({el:a[0],offTop:100,offBottom:-100,onEnter:r,once:!0}))}function n(){var t=["#b13e73","#0dccc0","#f8c72c","#ff6e6e"],o=c.group().addClass("back");o.polygon([[d-20*s,20+f],[d+20*s,20+f],[d+580*s,580+f],[d-580*s,580+f]]).fill("#999").filter(function(t){t.gaussianBlur(10)}),o.polygon([[d,f],[d+580*s,580+f],[d-580*s,580+f]]).fill("#ffffff");for(var e=0,n=0;4>n;n++){var i=e+p[n],l=c.group().addClass("section");l.polygon([[d-(e+20)*s+10,e+20+f],[d+(e+20)*s-10,e+20+f],[d+i*s-10,i+f],[d-i*s+10,i+f]]).fill("#999").filter(function(t){t.gaussianBlur(10)}),l.polygon([[d-e*s,e+f],[d+e*s,e+f],[d+i*s,i+f],[d-i*s,i+f]]).fill(t[n]).addClass("tri-"+(n+1)),e+=p[n]+10}}function i(){var o=[],e=0,n=[[322,114],[259,228],[188,357],!1];a.find(".left h4").each(function(e,n){var i=t(n);o.push(i.position().top+i.height()/2)});for(var i=0;i<o.length;i++){var l=[[0,o[i]],[160,o[i]]];n[i]&&l.push(n[i]),i==o.length-1&&(l[1][0]=109),c.polyline(l).stroke({width:2,color:"#e5e6e8"}).fill("none").addClass("left-line"),e+=p[i]+10}}function l(){for(var t=708,o=[240,150,80,20],e=[[703,-7],[710,0],[703,7]],n=a.find(".right>.point"),i=f,l=0;l<p.length;l++){var r=c.group().addClass("right-line"),d=n.eq(l),s=i+p[l]/2,u=[];r.line(t-o[l],s,t,s).stroke({width:2,color:"#e5e6e8"});for(var h=0;h<e.length;h++)u[h]=e[h].slice(),u[h][1]+=s;d.css({top:s-d.height()/2}),r.polyline(u).stroke({width:2,color:"#e5e6e8"}).fill("none"),i+=p[l]+10}}function r(){function o(t){f.eq(t).add(l.eq(t)).velocity({translateY:[0,-20],opacity:1},{complete:function(){d.eq(t).velocity({translateX:[0,20],opacity:1},{duration:h}),setTimeout(function(){e.eq(t).velocity({translateX:[0,20],opacity:1},{duration:h})},100),0===t&&i.velocity({opacity:1},{duration:h}),s.eq(t).velocity({translateX:[0,-20],opacity:1},{duration:h}),setTimeout(function(){n.eq(t).velocity({opacity:1},{duration:h})},100)}})}for(var e=a.find(".left>.point"),n=a.find(".right>.point"),i=a.find(".intro-label"),l=t(c.parent).children(".svg-label"),r=t(c.node),f=r.children(".section"),d=r.children(".left-line"),s=r.children(".right-line"),p=r.children(".back"),u=800,h=700,y=0;4>y;y++)setTimeout(o.bind(void 0,y),u*y);setTimeout(function(){p.velocity({opacity:1},{duration:h})},5*u)}var a,c,f=10,d=380,s=.55,p=[204,112,112,122];t(e)}(jQuery,window),function(){function t(){n=$(".scheme-sec"),n.length&&(i=n.find(".content"),r=i.find(".item").css("opacity",0),a=i.find(".diploma").css("opacity",0),o(),$(c).css("opacity",0),ScrollWatcher.add({el:i[0],offTop:100,offBottom:-100,onEnter:e,once:!0}))}function o(){l=SVG(i.find(".svg")[0]),r.each(function(t){function o(t){t.path([["M",1,1],["L",3,3],["L",1,5]]).fill("none").stroke({width:1,color:r,linecap:"round"}),this.ref(2,3),this.attr({markerUnit:"userSpaceOnUse"})}var e,n=$(this),i=n.width(),r=n.find(".round").css("border-color"),a=n.position();n.hasClass("top")?(e=l.group(),e.line(a.left+i,a.top+76,a.left+i+102,a.top+76).stroke({width:3,color:r,linecap:"round",dasharray:[1,5]}).marker("end",4,6,o),e.path([["M",a.left+130,a.top+110],["A",90,80,90,0,1,a.left+i+60,a.top+204]]).fill("none").stroke({width:3,color:r,linecap:"round",dasharray:[1,5]}).marker("end",4,6,o)):n.hasClass("bottom")?(e=l.line(a.left+i/2+30,a.top+4,a.left+i+10,a.top-70),e.stroke({width:3,color:r,linecap:"round",dasharray:[1,5]}).marker("end",4,6,o)):e=l.path([["M",a.left+i-30,a.top+150],["A",70,70,0,0,1,a.left+136,a.top+184]]).fill("none").stroke({width:3,color:r,linecap:"round",dasharray:[1,5]}).marker("end",4,6,o),c.push(e.node)})}function e(){var t=0,o=0,e=0,n=function(){return t>=r.length?void i():(r.eq(t).velocity({opacity:1,translateY:[0,-20]},{duration:300,complete:n}),void t++)},i=function(){o>=c.length||($(c[o]).add(c[o+1]).velocity({opacity:1,translateX:[0,-20]},{duration:300,complete:l}),o+=2)},l=function(){a.eq(e).velocity({opacity:1,translateY:[0,-20]},{duration:300,complete:i}),e++};n()}var n,i,l,r,a,c=[];$(t)}(jQuery),function(t){function o(){function o(t){t.path([["M",1,1],["L",3,3],["L",1,5]]).fill("none").stroke({width:1,color:"#808696",linecap:"round"}),this.ref(2,3),this.attr({markerUnit:"userSpaceOnUse"})}if(n=t(".programs-sc"),n.length){var c=n.find(".svg"),f=SVG(c[0]),d=120,s=20,p={width:3,color:"#808696",linecap:"round",dasharray:[1,5]};i=c.find(".col"),i.find(".age, .det").css("opacity",0),i.each(function(e){var n,i=t(this);if(i.hasClass("small"))return c=i.find(".round").css("opacity",0).position(),n=f.line(c.left-s,c.top+d/2,c.left-4,c.top+d/2).stroke(p).fill("none").marker("end",4,6,o),void a.push(n.node);var c=i.find(".rounds").position(),u=i.width(),h=0,y=f.group();h=c.left+u/2,y.path([["M",h-5,c.top-30],["L",c.left+d/2+6,c.top-30],["A",6,6,0,0,0,c.left+d/2,c.top-26],["L",c.left+d/2,c.top-6]]).stroke(p).fill("none").marker("end",4,6,o),y.path([["M",h+5,c.top-30],["L",c.left+u-d/2-6,c.top-30],["A",6,6,0,0,1,c.left+u-d/2,c.top-26],["L",c.left+u-d/2,c.top-6]]).stroke(p).fill("none").marker("end",4,6,o),y.line(h,c.top-30,h,c.top-6).stroke(p).fill("none").marker("end",4,6,o),l.push(y.node);var v=i.find(".round").css("opacity",0);y=f.group();for(var g=0;g<v.length-1;g++)c=v.eq(g).position(),0!==g&&(c.left+=20),y.line(c.left+d,c.top+d/2,c.left+d+s-4,c.top+d/2).stroke(p).fill("none").marker("end",4,6,o);r.push(y.node),0!==e&&(c=v.eq(0).position(),n=f.line(c.left-s,c.top+d/2,c.left-4,c.top+d/2).stroke(p).fill("none").marker("end",4,6,o),a.push(n.node))}),t(l).css("opacity",0),t(r).css("opacity",0),t(a).css("opacity",0),ScrollWatcher.add({el:n.find(".svg")[0],offTop:100,offBottom:-100,onEnter:e,once:!0})}}function e(){var o=-1,e=function(){o++,o>=i.length||(0===o?n():t(a[o-1]).velocity({opacity:1},{duration:400,complete:n}))},n=function(){i.eq(o).find(".age").velocity({opacity:1,translateY:[0,-20]},{duration:400,complete:c})},c=function(){l[o]?t(l[o]).velocity({opacity:1},{duration:400,complete:f}):f()},f=function(){i.eq(o).find(".round").velocity({opacity:1,translateY:[0,-20]},{duration:400,complete:d})},d=function(){t(r[o]).velocity({opacity:1},{duration:400,complete:s})},s=function(){var t=i.eq(o).find(".det");t.length||e(),t.velocity({opacity:1,translateY:[0,-20]},{duration:400,complete:e})};e()}var n,i,l=[],r=[],a=[];t(o)}(jQuery);